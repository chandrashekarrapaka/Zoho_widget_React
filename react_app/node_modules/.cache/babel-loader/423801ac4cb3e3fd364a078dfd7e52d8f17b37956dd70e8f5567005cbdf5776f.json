{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DELL/Desktop/zoho-creator-widget-starter-template-reactJS/react_app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DELL/Desktop/zoho-creator-widget-starter-template-reactJS/react_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export function Velocity(){return _Velocity.apply(this,arguments);}function _Velocity(){_Velocity=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var accessToken,loginResponse,queryParams,loginData,orgid,plantsResponse,velocityData,machinesArray;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:accessToken=\"\";_context.prev=1;_context.next=4;return window.ZOHO.CREATOR.init().then(function(data){var accessTokenz=\"\";var config={appName:\"infinite-control-room\",reportName:\"All_Users\",criteria:\"Username ==\\\"rapaka.chandrashekar@gmail.com\\\"\",page:\"1\",pageSize:\"100\"};var access=window.ZOHO.CREATOR.API.getAllRecords(config).then(function(response){var userData=response;accessTokenz=userData.data[0].Access_Token;console.log(\"userData\"+JSON.stringify(userData.data[0].Access_Token));return accessTokenz;});return access;});case 4:loginResponse=_context.sent;_context.next=7;return window.ZOHO.CREATOR.init().then(function(data){return window.ZOHO.CREATOR.UTIL.getQueryParams();});case 7:queryParams=_context.sent;_context.next=10;return loginResponse;case 10:loginData=_context.sent;accessToken=loginData;//accessToken=\"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyY0NxRnpxRXJrNU5GS1RjTi1YSk1IdE9NS2tWVTZXS1hIdHZFMF8xZE5ZIn0.eyJleHAiOjE2ODY5NTQ5OTEsImlhdCI6MTY4NjkxMTc5MSwianRpIjoiNDU0MGQ1MTctNjE1ZS00NDZmLTgxOTgtNTc1YzY1ZjUwZmM3IiwiaXNzIjoiaHR0cHM6Ly9pZGVudGl0eS5pbmZpbml0ZS11cHRpbWUuY29tL3JlYWxtcy9pZGFwIiwic3ViIjoiZjo2MGNhNzY4Yy1iMTA0LTQ0OTktYjU4Yy05MzliOTdlNzAzM2Q6ODcxMSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImlkYXAiLCJzZXNzaW9uX3N0YXRlIjoiNGQ0YjUzMDAtM2NlZC00ZTk5LTlmNDEtYmRjMDI0ZjJkMzhlIiwic2NvcGUiOiJlbWFpbCIsInNpZCI6IjRkNGI1MzAwLTNjZWQtNGU5OS05ZjQxLWJkYzAyNGYyZDM4ZSIsImlzX2FkbWluIjoiZmFsc2UiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImlkYXBfcm9sZSI6IlJPTEVfVVNFUiIsImVtYWlsIjoiUmFwYWthLmNoYW5kcmFzaGVrYXJAZ21haWwuY29tIn0.l8NL7t1Kqf77hOHo_kGSpcKzDoSjFFYmKdyn3y6-fC45B_ICvvYz_FLMfazPMOxVzMG0nb0nD88y_J45wFYTjLnfwbZbIzw--vbVKt1EMe4qK6ko4wv1jTRrjg97m7PaQL3FLcv1JSPafJ8ukPm1z4BPo0tpoHlbZX1vCGwm1ZgdJqTBM6bJrtrLyB1EcABWsXIbd7r_756vua7sOO_7ZkAppAiHTV3qqjM5N0cjHaKTkMXYAiVkl6kBpsZf7N8CCdwkZTKV3rapK_zQGJhS2VxSNkeiERF2Y16nyPxSjxyzQFBB6I0AB2xqSSWlhJ6Shk2yaaI1MB9_cdt8oOgJPg\";\nconsole.log(\"queryParams\"+JSON.stringify(queryParams));orgid=queryParams.PlantId;_context.next=16;return fetch(\"https://api-idap.infinite-uptime.com/api/2.0/md/monitoring/bymonitors?plantId=\".concat(orgid),{method:'GET',headers:{'accept':'application/json','Authorization':'Bearer '+accessToken}});case 16:plantsResponse=_context.sent;_context.next=19;return plantsResponse.json();case 19:velocityData=_context.sent;machinesArray=[];velocityData.machineGroups.map(function(elemg){elemg.machines.map(function(elem){machinesArray.push(elem);});});console.log(\"velocityData\",machinesArray);return _context.abrupt(\"return\",machinesArray);case 26:_context.prev=26;_context.t0=_context[\"catch\"](1);console.error(_context.t0);throw _context.t0;case 30:case\"end\":return _context.stop();}},_callee,null,[[1,26]]);}));return _Velocity.apply(this,arguments);}","map":{"version":3,"names":["Velocity","_Velocity","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","accessToken","loginResponse","queryParams","loginData","orgid","plantsResponse","velocityData","machinesArray","wrap","_callee$","_context","prev","next","window","ZOHO","CREATOR","init","then","data","accessTokenz","config","appName","reportName","criteria","page","pageSize","access","API","getAllRecords","response","userData","Access_Token","console","log","JSON","stringify","sent","UTIL","getQueryParams","PlantId","fetch","concat","method","headers","json","machineGroups","map","elemg","machines","elem","push","abrupt","t0","error","stop"],"sources":["C:/Users/DELL/Desktop/zoho-creator-widget-starter-template-reactJS/react_app/src/Services/Velocity.js"],"sourcesContent":["\r\nexport async function Velocity() {\r\n    let accessToken=\"\";\r\n      try {\r\n         \r\n        const loginResponse =  await window.ZOHO.CREATOR.init().then(function(data) {\r\n          let accessTokenz=\"\";\r\n        \r\n        \r\n         var config = {\r\n          appName: \"infinite-control-room\",\r\n          reportName: \"All_Users\",\r\n          criteria: \"Username ==\\\"rapaka.chandrashekar@gmail.com\\\"\",\r\n          page: \"1\",\r\n          pageSize: \"100\"\r\n        }\r\n        const access=window.ZOHO.CREATOR.API.getAllRecords(config).then(function (response) {\r\n          let userData = response;\r\n          \r\n          accessTokenz=userData.data[0].Access_Token;\r\n          console.log(\"userData\"+JSON.stringify(userData.data[0].Access_Token));\r\n     \r\n        return accessTokenz;\r\n        });\r\n        return access;\r\n      });\r\n      const queryParams =  await window.ZOHO.CREATOR.init().then(function(data) { \r\n        return window.ZOHO.CREATOR.UTIL.getQueryParams();\r\n      });\r\n    \r\n        const loginData = await loginResponse;\r\n      \r\n       accessToken = loginData;\r\n        //accessToken=\"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyY0NxRnpxRXJrNU5GS1RjTi1YSk1IdE9NS2tWVTZXS1hIdHZFMF8xZE5ZIn0.eyJleHAiOjE2ODY5NTQ5OTEsImlhdCI6MTY4NjkxMTc5MSwianRpIjoiNDU0MGQ1MTctNjE1ZS00NDZmLTgxOTgtNTc1YzY1ZjUwZmM3IiwiaXNzIjoiaHR0cHM6Ly9pZGVudGl0eS5pbmZpbml0ZS11cHRpbWUuY29tL3JlYWxtcy9pZGFwIiwic3ViIjoiZjo2MGNhNzY4Yy1iMTA0LTQ0OTktYjU4Yy05MzliOTdlNzAzM2Q6ODcxMSIsInR5cCI6IkJlYXJlciIsImF6cCI6ImlkYXAiLCJzZXNzaW9uX3N0YXRlIjoiNGQ0YjUzMDAtM2NlZC00ZTk5LTlmNDEtYmRjMDI0ZjJkMzhlIiwic2NvcGUiOiJlbWFpbCIsInNpZCI6IjRkNGI1MzAwLTNjZWQtNGU5OS05ZjQxLWJkYzAyNGYyZDM4ZSIsImlzX2FkbWluIjoiZmFsc2UiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImlkYXBfcm9sZSI6IlJPTEVfVVNFUiIsImVtYWlsIjoiUmFwYWthLmNoYW5kcmFzaGVrYXJAZ21haWwuY29tIn0.l8NL7t1Kqf77hOHo_kGSpcKzDoSjFFYmKdyn3y6-fC45B_ICvvYz_FLMfazPMOxVzMG0nb0nD88y_J45wFYTjLnfwbZbIzw--vbVKt1EMe4qK6ko4wv1jTRrjg97m7PaQL3FLcv1JSPafJ8ukPm1z4BPo0tpoHlbZX1vCGwm1ZgdJqTBM6bJrtrLyB1EcABWsXIbd7r_756vua7sOO_7ZkAppAiHTV3qqjM5N0cjHaKTkMXYAiVkl6kBpsZf7N8CCdwkZTKV3rapK_zQGJhS2VxSNkeiERF2Y16nyPxSjxyzQFBB6I0AB2xqSSWlhJ6Shk2yaaI1MB9_cdt8oOgJPg\";\r\n         console.log(\"queryParams\"+JSON.stringify(queryParams));\r\n        \r\n        \r\n        let orgid=queryParams.PlantId;\r\n        const plantsResponse = await fetch(`https://api-idap.infinite-uptime.com/api/2.0/md/monitoring/bymonitors?plantId=${orgid}`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'accept': 'application/json',\r\n            'Authorization': 'Bearer '+accessToken,\r\n          },\r\n        });\r\n        \r\n        const velocityData = await plantsResponse.json();\r\n        \r\n         \r\n        const machinesArray=[];\r\n        velocityData.machineGroups.map((elemg)=>{\r\n            elemg.machines.map(elem=>{\r\n                machinesArray.push(elem) \r\n            })\r\n        })\r\n        console.log(\"velocityData\",  machinesArray);\r\n         return machinesArray;\r\n        // \r\n  \r\n      } catch (error) {\r\n        console.error(error);\r\n        throw error;\r\n      }\r\n    }\r\n    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}