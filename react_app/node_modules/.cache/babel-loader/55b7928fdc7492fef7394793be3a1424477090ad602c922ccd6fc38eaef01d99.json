{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\zoho-creator-widget-starter-template-reactJS\\\\react_app\\\\src\\\\Components\\\\Header\\\\Header.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./Header.css\";\nimport KPI from \"./KPI\";\nimport { Image } from \"../../Services/image\";\nimport { LoginCredentialsAndQueries } from \"../../Services/loginCredentialsAndQueries\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Header(prop) {\n  _s();\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [kipobj, setKipobj] = useState(null);\n  const [propLoaded, setPropLoaded] = useState(false);\n  useEffect(() => {\n    const fetchDataz = async () => {\n      try {\n        const response = await Image();\n        if (response.length > 0) {\n          console.log(\"imageurl\", response);\n          setImageUrl(response);\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchDataz();\n  }, []);\n  useEffect(() => {\n    if (prop.currentPlant.length > 0) {\n      setPropLoaded(true);\n    }\n  }, [prop.currentPlant]);\n  useEffect(() => {\n    const fetchPlantDetails = async () => {\n      try {\n        if (propLoaded) {\n          let plantid = prop.currentPlant[0].plantid;\n          let token = await LoginCredentialsAndQueries();\n          const kpidatafinal = await fetch(\"https://api-idap.infinite-uptime.com/api/3.0/idap-api/service-requests/analytics?plantIds=\" + plantid, {\n            method: \"GET\",\n            headers: {\n              Authorization: \"Bearer \" + token,\n              accept: \"*/*\"\n            }\n          });\n          let kpidata = await kpidatafinal.json();\n          console.log(\"downtime\" + JSON.stringify(kpidata.data[0]));\n          const updatedKipobj = {\n            kpi4: {\n              ...kipobj.kpi4,\n              title: JSON.stringify(kpidata.data[0].completedCount)\n            },\n            kpi5: {\n              ...kipobj.kpi5,\n              title: JSON.stringify(kpidata.data[0].downtime)\n            },\n            kpi2: {\n              ...kipobj.kpi2,\n              title: JSON.stringify(prop.kpimachines)\n            },\n            kpi3: {\n              ...kipobj.kpi3,\n              title: JSON.stringify(kpidata.data[0].newCount)\n            },\n            kpi1: {\n              ...kipobj.kpi1,\n              title: JSON.stringify(prop.kpimonitors)\n            }\n          };\n          setKipobj(updatedKipobj);\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchPlantDetails();\n  }, [propLoaded, prop.currentPlant, prop]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"kpis\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: imageUrl,\n      alt: \"Plant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), kipobj ? Object.keys(kipobj).map(function (ele) {\n      return /*#__PURE__*/_jsxDEV(KPI, {\n        data: kipobj[ele]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 18\n      }, this);\n    }) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n_s(Header, \"Pq3oJwTNWvpDpW+VTOtLGfXHGm8=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","useEffect","KPI","Image","LoginCredentialsAndQueries","jsxDEV","_jsxDEV","Header","prop","_s","imageUrl","setImageUrl","kipobj","setKipobj","propLoaded","setPropLoaded","fetchDataz","response","length","console","log","error","currentPlant","fetchPlantDetails","plantid","token","kpidatafinal","fetch","method","headers","Authorization","accept","kpidata","json","JSON","stringify","data","updatedKipobj","kpi4","title","completedCount","kpi5","downtime","kpi2","kpimachines","kpi3","newCount","kpi1","kpimonitors","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","Object","keys","map","ele","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/zoho-creator-widget-starter-template-reactJS/react_app/src/Components/Header/Header.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./Header.css\";\r\nimport KPI from \"./KPI\";\r\nimport { Image } from \"../../Services/image\";\r\nimport { LoginCredentialsAndQueries } from \"../../Services/loginCredentialsAndQueries\";\r\n\r\nfunction Header(prop) {\r\n  const [imageUrl, setImageUrl] = useState(\"\");\r\n  const [kipobj, setKipobj] = useState(null);\r\n  const [propLoaded, setPropLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchDataz = async () => {\r\n      try {\r\n        const response = await Image();\r\n        if (response.length > 0) {\r\n          console.log(\"imageurl\", response);\r\n          setImageUrl(response);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchDataz();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (prop.currentPlant.length > 0) {\r\n      setPropLoaded(true);\r\n    }\r\n  }, [prop.currentPlant]);\r\n\r\n  useEffect(() => {\r\n    const fetchPlantDetails = async () => {\r\n      try {\r\n        if (propLoaded) {\r\n          let plantid = prop.currentPlant[0].plantid;\r\n          let token = await LoginCredentialsAndQueries();\r\n\r\n          const kpidatafinal = await fetch(\r\n            \"https://api-idap.infinite-uptime.com/api/3.0/idap-api/service-requests/analytics?plantIds=\" +\r\n              plantid,\r\n            {\r\n              method: \"GET\",\r\n              headers: {\r\n                Authorization: \"Bearer \" + token,\r\n                accept: \"*/*\",\r\n              },\r\n            }\r\n          );\r\n          let kpidata = await kpidatafinal.json();\r\n          console.log(\"downtime\" + JSON.stringify(kpidata.data[0]));\r\n\r\n          const updatedKipobj = {\r\n            kpi4: {\r\n              ...kipobj.kpi4,\r\n              title: JSON.stringify(kpidata.data[0].completedCount),\r\n            },\r\n            kpi5: {\r\n              ...kipobj.kpi5,\r\n              title: JSON.stringify(kpidata.data[0].downtime),\r\n            },\r\n            kpi2: {\r\n              ...kipobj.kpi2,\r\n              title: JSON.stringify(prop.kpimachines),\r\n            },\r\n            kpi3: {\r\n              ...kipobj.kpi3,\r\n              title: JSON.stringify(kpidata.data[0].newCount),\r\n            },\r\n            kpi1: {\r\n              ...kipobj.kpi1,\r\n              title: JSON.stringify(prop.kpimonitors),\r\n            },\r\n          };\r\n\r\n          setKipobj(updatedKipobj);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchPlantDetails();\r\n  }, [propLoaded, prop.currentPlant, prop]);\r\n\r\n  return (\r\n    <div className=\"kpis\">\r\n      <img src={imageUrl} alt=\"Plant\" />\r\n      {kipobj ? (\r\n        Object.keys(kipobj).map(function (ele) {\r\n          return <KPI data={kipobj[ele]} />;\r\n        })\r\n      ) : (\r\n        <div>Loading...</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}