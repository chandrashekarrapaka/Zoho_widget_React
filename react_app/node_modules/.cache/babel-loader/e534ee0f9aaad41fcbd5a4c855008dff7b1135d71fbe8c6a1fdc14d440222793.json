{"ast":null,"code":"export async function LoginCredentialsAndQueries() {\n  let accessToken = \"\";\n  try {\n    const loginResponse = await window.ZOHO.CREATOR.init().then(function (data) {\n      let accessTokenz = \"\";\n      let userid = window.ZOHO.CREATOR.UTIL.getQueryParams().user;\n      console.log(\"userid\" + userid);\n      var config = {\n        appName: \"infinite-control-room\",\n        reportName: \"My_Profile_Data\",\n        criteria: \"Username ==\\\"\" + userid + \"\\\"\",\n        page: \"1\",\n        pageSize: \"100\"\n      };\n      const access = window.ZOHO.CREATOR.API.getAllRecords(config).then(function (response) {\n        let userData = response;\n        accessTokenz = userData.data[0].Access_Token;\n        console.log(\"userData\" + JSON.stringify(userData.data[0].Access_Token));\n        // console.log(\"check\"+accessToken);\n        // return accessToken;\n        return accessTokenz;\n      });\n      return access;\n    });\n    const queryParams = await window.ZOHO.CREATOR.init().then(function (data) {\n      return window.ZOHO.CREATOR.UTIL.getQueryParams();\n    });\n    const loginData = await loginResponse;\n    accessToken = loginData;\n    console.log(\"queryParamsLOGIN\" + JSON.stringify(queryParams));\n    console.log(\"dataused\" + JSON.stringify(accessToken), queryParams);\n    const lqp = {\n      accessToken,\n      queryParams\n    };\n    // let orgid=queryParams.PlantId.split(\",\")[1];\n    // const orgidAll=queryParams.PlantId.split(\",\");\n    //console.log(\"dataused\"+accessToken,queryParams)\n    return accessToken;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n_c = LoginCredentialsAndQueries;\nvar _c;\n$RefreshReg$(_c, \"LoginCredentialsAndQueries\");","map":{"version":3,"names":["LoginCredentialsAndQueries","accessToken","loginResponse","window","ZOHO","CREATOR","init","then","data","accessTokenz","userid","UTIL","getQueryParams","user","console","log","config","appName","reportName","criteria","page","pageSize","access","API","getAllRecords","response","userData","Access_Token","JSON","stringify","queryParams","loginData","lqp","error","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/zoho-creator-widget-starter-template-reactJS/react_app/src/Services/loginCredentialsAndQueries.js"],"sourcesContent":["\r\nexport async function LoginCredentialsAndQueries() {\r\n    let accessToken=\"\";\r\n    \r\n      try {\r\n         \r\n        const loginResponse =  await window.ZOHO.CREATOR.init().then(function(data) {\r\n          let accessTokenz=\"\";\r\n          let userid=window.ZOHO.CREATOR.UTIL.getQueryParams().user;\r\n          console.log(\"userid\"+userid)\r\n        \r\n         var config = {\r\n          appName: \"infinite-control-room\",\r\n          reportName: \"My_Profile_Data\",\r\n          criteria: \"Username ==\\\"\"+userid+\"\\\"\",\r\n          page: \"1\",\r\n          pageSize: \"100\"\r\n        }\r\n        const access=window.ZOHO.CREATOR.API.getAllRecords(config).then(function (response) {\r\n          let userData = response;\r\n          \r\n          accessTokenz=userData.data[0].Access_Token;\r\n          console.log(\"userData\"+JSON.stringify(userData.data[0].Access_Token));\r\n         // console.log(\"check\"+accessToken);\r\n         // return accessToken;\r\n        return accessTokenz;\r\n        });\r\n        return access;\r\n      });\r\n      const queryParams =  await window.ZOHO.CREATOR.init().then(function(data) { \r\n        return window.ZOHO.CREATOR.UTIL.getQueryParams();\r\n      });\r\n    \r\n        const loginData = await loginResponse;\r\n\r\n       accessToken = loginData;\r\n         console.log(\"queryParamsLOGIN\"+JSON.stringify(queryParams));\r\n         console.log(\"dataused\"+JSON.stringify(accessToken),queryParams)\r\n        \r\n        const lqp={accessToken,queryParams};\r\n        // let orgid=queryParams.PlantId.split(\",\")[1];\r\n        // const orgidAll=queryParams.PlantId.split(\",\");\r\n      //console.log(\"dataused\"+accessToken,queryParams)\r\n        return accessToken;\r\n      } catch (error) {\r\n        console.error(error);\r\n        throw error;\r\n      }\r\n    }\r\n    "],"mappings":"AACA,OAAO,eAAeA,0BAA0BA,CAAA,EAAG;EAC/C,IAAIC,WAAW,GAAC,EAAE;EAEhB,IAAI;IAEF,MAAMC,aAAa,GAAI,MAAMC,MAAM,CAACC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,UAASC,IAAI,EAAE;MAC1E,IAAIC,YAAY,GAAC,EAAE;MACnB,IAAIC,MAAM,GAACP,MAAM,CAACC,IAAI,CAACC,OAAO,CAACM,IAAI,CAACC,cAAc,CAAC,CAAC,CAACC,IAAI;MACzDC,OAAO,CAACC,GAAG,CAAC,QAAQ,GAACL,MAAM,CAAC;MAE7B,IAAIM,MAAM,GAAG;QACZC,OAAO,EAAE,uBAAuB;QAChCC,UAAU,EAAE,iBAAiB;QAC7BC,QAAQ,EAAE,eAAe,GAACT,MAAM,GAAC,IAAI;QACrCU,IAAI,EAAE,GAAG;QACTC,QAAQ,EAAE;MACZ,CAAC;MACD,MAAMC,MAAM,GAACnB,MAAM,CAACC,IAAI,CAACC,OAAO,CAACkB,GAAG,CAACC,aAAa,CAACR,MAAM,CAAC,CAACT,IAAI,CAAC,UAAUkB,QAAQ,EAAE;QAClF,IAAIC,QAAQ,GAAGD,QAAQ;QAEvBhB,YAAY,GAACiB,QAAQ,CAAClB,IAAI,CAAC,CAAC,CAAC,CAACmB,YAAY;QAC1Cb,OAAO,CAACC,GAAG,CAAC,UAAU,GAACa,IAAI,CAACC,SAAS,CAACH,QAAQ,CAAClB,IAAI,CAAC,CAAC,CAAC,CAACmB,YAAY,CAAC,CAAC;QACtE;QACA;QACD,OAAOlB,YAAY;MACnB,CAAC,CAAC;MACF,OAAOa,MAAM;IACf,CAAC,CAAC;IACF,MAAMQ,WAAW,GAAI,MAAM3B,MAAM,CAACC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,UAASC,IAAI,EAAE;MACxE,OAAOL,MAAM,CAACC,IAAI,CAACC,OAAO,CAACM,IAAI,CAACC,cAAc,CAAC,CAAC;IAClD,CAAC,CAAC;IAEA,MAAMmB,SAAS,GAAG,MAAM7B,aAAa;IAEtCD,WAAW,GAAG8B,SAAS;IACrBjB,OAAO,CAACC,GAAG,CAAC,kBAAkB,GAACa,IAAI,CAACC,SAAS,CAACC,WAAW,CAAC,CAAC;IAC3DhB,OAAO,CAACC,GAAG,CAAC,UAAU,GAACa,IAAI,CAACC,SAAS,CAAC5B,WAAW,CAAC,EAAC6B,WAAW,CAAC;IAEhE,MAAME,GAAG,GAAC;MAAC/B,WAAW;MAAC6B;IAAW,CAAC;IACnC;IACA;IACF;IACE,OAAO7B,WAAW;EACpB,CAAC,CAAC,OAAOgC,KAAK,EAAE;IACdnB,OAAO,CAACmB,KAAK,CAACA,KAAK,CAAC;IACpB,MAAMA,KAAK;EACb;AACF;AAACC,EAAA,GA/CiBlC,0BAA0B;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}