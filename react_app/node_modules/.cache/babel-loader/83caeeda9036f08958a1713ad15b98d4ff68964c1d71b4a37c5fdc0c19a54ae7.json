{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/demo/Desktop/CRV/Zoho_widget_React/react_app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/demo/Desktop/CRV/Zoho_widget_React/react_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/demo/Desktop/CRV/Zoho_widget_React/react_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{LoginCredentialsAndQueries}from\"../../../Services/loginCredentialsAndQueries\";import'./AlertsBar.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AlertsBar=function AlertsBar(prop){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),accessToken=_useState2[0],setAccessToken=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),dataDisplay=_useState4[0],setDataDisplay=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),totalAlerts=_useState6[0],setTotalAlerts=_useState6[1];var _useState7=useState(30),_useState8=_slicedToArray(_useState7,2),animationDuration=_useState8[0],setAnimationDuration=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),animationPaused=_useState10[0],setAnimationPaused=_useState10[1];var contentLength=0;var totalPlants=prop.plantsData;var currentPlant=prop.currentPlant;//console.log(\"AA1\", currentPlant[0].plantid, accessToken);\nuseEffect(function(){var fetchDataz=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return LoginCredentialsAndQueries();case 3:response=_context.sent;if(response.length>0){//console.log(\"responseAA\", response);\nsetAccessToken(response);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchDataz(){return _ref.apply(this,arguments);};}();fetchDataz();},[prop.currentPlant]);//let plantid = currentPlant[0].plantid;\nuseEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var now,dtTo,dtFrom,fetchPromises,alertsData,dummy,combinedAlerts;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:now=new Date();dtTo=now.toISOString().replace(/\\.\\d+Z$/,\"Z\").replace(/:/g,\"%3A\");dtFrom=new Date(now.getTime()-24*60*60*1000).toISOString().replace(/\\.\\d+Z$/,\"Z\").replace(/:/g,\"%3A\");_context3.prev=3;fetchPromises=totalPlants.map(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(element){var plantid,response,data,response2,data2,newData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0://console.log()\nplantid=element[0].plantid;//console.log(\"id\"+plantid);\n_context2.next=3;return fetch(\"https://api.infinite-uptime.com/api/3.0/idap-api/anomaly-alerts/plants?plantIds=\"+plantid+\"&from=\"+dtFrom+\"&to=\"+dtTo,{method:\"GET\",headers:{accept:\"application/json\",Authorization:\"Bearer \"+accessToken}});case 3:response=_context2.sent;if(!response.ok){_context2.next=21;break;}_context2.next=7;return response.json();case 7:data=_context2.sent;if(!(data&&data.data.length>0)){_context2.next=21;break;}_context2.next=11;return fetch(\"https://api.infinite-uptime.com/api/3.0/idap-api/service-requests?plantIds=\"+plantid,{method:\"GET\",headers:{accept:\"application/json\",Authorization:\"Bearer \"+accessToken}});case 11:response2=_context2.sent;if(!response2.ok){_context2.next=21;break;}_context2.next=15;return response2.json();case 15:data2=_context2.sent;if(!(data2&&data.data.length>0&&Object.keys(data2).length>0)){_context2.next=21;break;}newData=[];newData.push(data);newData.push(data2);return _context2.abrupt(\"return\",newData);case 21:case\"end\":return _context2.stop();}},_callee2);}));return function(_x){return _ref3.apply(this,arguments);};}());_context3.next=7;return Promise.all(fetchPromises);case 7:alertsData=_context3.sent;//console.log(\"data\",JSON.stringify(alertsData));\ndummy=[];alertsData.map(function(ele){if(ele!=undefined){//aa\nvar alert1=ele[0].data.flat();//mf\nvar key=Object.keys(ele[1].data);// console.log(key);\nvar alert2=ele[1].data[key].filter(function(ele){return ele.status===\"NEW\";});dummy.push(alert1);var alert2v1=function alert2v1(alert2){var newAlert=[];alert2.map(function(ele){if(check24(ele)){newAlert.push(ele);//dummy.push(ele);\n}});return newAlert;};dummy.push(alert2v1(alert2));}});//console.log(\"hero\"+JSON.stringify(dummy));\n// Combine all alerts from different plants into a single array\ncombinedAlerts=dummy.flat();//console.log(combinedAlerts);\n// const newZ=combinedAlerts.push(\"=\");\nsetTotalAlerts(function(prevAlert){return prevAlert.length===combinedAlerts.length?prevAlert:combinedAlerts;});_context3.next=17;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](3);console.error(_context3.t0);case 17:case\"end\":return _context3.stop();}},_callee3,null,[[3,14]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();// const interval = setInterval(fetchData, 30000);\n// return () => {\n//   clearInterval(interval);\n// };\n},[currentPlant,accessToken,totalPlants,totalAlerts]);//console.log(\"data\"+JSON.stringify(totalAlerts),totalAlerts.length);\nvar lengthofDisplay=totalAlerts&&totalAlerts.length==0;useEffect(function(){if(totalAlerts&&totalAlerts.length>0){contentLength=totalAlerts.reduce(function(length,ele){if(ele){var textValues=Object.values(ele).filter(function(value){return typeof value===\"string\";});var textLength=textValues.join('').length;return length+textLength;}return length;},0);if(!isNaN(contentLength)&&contentLength>0){var durationFactor=0.05;var calculatedDuration=Math.max(30,contentLength*durationFactor);setAnimationDuration(calculatedDuration);}else{console.error(\"invalid content length\",contentLength);}}},[totalAlerts]);//  console.log(\"checking\",lengthofDisplay,dataDisplay.data.length)\nfunction parseCustomDate(dateString){var dateObject=new Date(dateString);return dateObject;}var check24=function check24(ele){if(ele.status){var dateString=parseCustomDate(ele.createdDate);var date=new Date(dateString);var currentDate=new Date();var timeDifference=currentDate-date;var hoursDifference=timeDifference/(1000*60*60);// console.log(dateString,date,hoursDifference);\nif(hoursDifference<=24){return true;}else{return false;}}else{return false;}};var urlFault=function urlFault(sid){return\"https://drs.infinite-uptime.com/reports-doc/\"+sid;};//console.log(animationDuration);\nvar urlAA=function urlAA(ele){console.log(\"clicked\");window.open(\"https://idap.infinite-uptime.com/#/dashboard/MonitoringTable\");// document.cookie = \"idap-machineName-PROD=1BE304 - 02-GEARBOX; domain=.infinite-uptime.com\"//but we tried to set cookies here-hard coded\n};return/*#__PURE__*/_jsx(\"div\",{className:\"alerts-bar\",style:{background:\"#ffc0c0\",color:\"red\"},onMouseEnter:function onMouseEnter(){return setAnimationPaused(true);},onMouseLeave:function onMouseLeave(){return setAnimationPaused(false);},children:/*#__PURE__*/_jsx(\"div\",{className:\"marquee \".concat(animationPaused?'marquee-paused':''),style:{animation:\"marquee \".concat(animationDuration,\"s linear infinite\")},children:totalAlerts&&totalAlerts.length>0?totalAlerts.map(function(ele,index){return/*#__PURE__*/_jsx(\"span\",{children:ele.status?/*#__PURE__*/_jsxs(_Fragment,{children:[\" New Fault identified for Plants \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:ele.serviceReqMachineDetails[0]?ele.serviceReqMachineDetails[0].plantName:\"\"}),\" : Machine : \",/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold\",children:[\" \",/*#__PURE__*/_jsx(\"a\",{href:urlFault(ele.id),target:\"_blank\",style:{color:\"red\"},children:ele.serviceReqMachineDetails[0]?ele.serviceReqMachineDetails[0].machineName:\"\"})]}),\" | \"]}):ele.anomalyDetected?/*#__PURE__*/_jsxs(_Fragment,{children:[\" New Anomaly Alert Generated for Plants \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:ele.plantName}),\" : Machine :\",/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold hover\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(e){urlAA(ele.machineName);},target:\"_blank\",style:{color:\"red\"},children:ele.machineName})]}),\" | \"]}):/*#__PURE__*/_jsx(_Fragment,{})},index);}):lengthofDisplay?/*#__PURE__*/_jsx(_Fragment,{children:\"No Anomaly Alert or New Faults Notifications in Last 24 Hours \"}):/*#__PURE__*/_jsx(_Fragment,{children:\"No Anomaly Alert or New Faults Notifications in Last 24 Hours\"})})});};export default AlertsBar;","map":{"version":3,"names":["React","useState","useEffect","LoginCredentialsAndQueries","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AlertsBar","prop","_useState","_useState2","_slicedToArray","accessToken","setAccessToken","_useState3","_useState4","dataDisplay","setDataDisplay","_useState5","_useState6","totalAlerts","setTotalAlerts","_useState7","_useState8","animationDuration","setAnimationDuration","_useState9","_useState10","animationPaused","setAnimationPaused","contentLength","totalPlants","plantsData","currentPlant","fetchDataz","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","length","t0","console","error","stop","apply","arguments","fetchData","_ref2","_callee3","now","dtTo","dtFrom","fetchPromises","alertsData","dummy","combinedAlerts","_callee3$","_context3","Date","toISOString","replace","getTime","map","_ref3","_callee2","element","plantid","data","response2","data2","newData","_callee2$","_context2","fetch","method","headers","accept","Authorization","ok","json","Object","keys","push","abrupt","_x","Promise","all","ele","undefined","alert1","flat","key","alert2","filter","status","alert2v1","newAlert","check24","prevAlert","lengthofDisplay","reduce","textValues","values","value","textLength","join","isNaN","durationFactor","calculatedDuration","Math","max","parseCustomDate","dateString","dateObject","createdDate","date","currentDate","timeDifference","hoursDifference","urlFault","sid","urlAA","log","window","open","className","style","background","color","onMouseEnter","onMouseLeave","children","concat","animation","index","serviceReqMachineDetails","plantName","href","id","target","machineName","anomalyDetected","onClick","e"],"sources":["C:/Users/demo/Desktop/CRV/Zoho_widget_React/react_app/src/Components/Containers/ScrollBar/AlertBar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { LoginCredentialsAndQueries } from \"../../../Services/loginCredentialsAndQueries\";\r\nimport './AlertsBar.css';\r\n\r\nconst AlertsBar = ( prop) => {\r\n\r\n    const [accessToken, setAccessToken] = useState(\"\");\r\n  const [dataDisplay, setDataDisplay] = useState();\r\n  const [totalAlerts,setTotalAlerts ] = useState([]);\r\n  const [animationDuration,setAnimationDuration]=useState(30);\r\n  const [animationPaused,setAnimationPaused]=useState(false);\r\n  let contentLength = 0;\r\n\r\n\r\n  const totalPlants=prop.plantsData;\r\n  const currentPlant = prop.currentPlant;\r\n  //console.log(\"AA1\", currentPlant[0].plantid, accessToken);\r\n\r\n  useEffect(() => {\r\n    const fetchDataz = async () => {\r\n      try {\r\n        const response = await LoginCredentialsAndQueries();\r\n        if (response.length > 0) {\r\n          //console.log(\"responseAA\", response);\r\n          setAccessToken(response);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchDataz();\r\n  }, [prop.currentPlant]);\r\n\r\n  //let plantid = currentPlant[0].plantid;\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      let now = new Date();\r\n      let dtTo = now.toISOString().replace(/\\.\\d+Z$/, \"Z\").replace(/:/g, \"%3A\");\r\n      let dtFrom = new Date(now.getTime() - 24 * 60 * 60 * 1000)\r\n        .toISOString()\r\n        .replace(/\\.\\d+Z$/, \"Z\")\r\n        .replace(/:/g, \"%3A\");\r\n\r\n      try {\r\n        const fetchPromises = totalPlants.map(async (element) => {\r\n          //console.log()\r\n          const plantid = element[0].plantid;\r\n          //console.log(\"id\"+plantid);\r\n          const response = await fetch(\r\n            \"https://api.infinite-uptime.com/api/3.0/idap-api/anomaly-alerts/plants?plantIds=\" +\r\n              plantid +\r\n              \"&from=\" +\r\n              dtFrom +\r\n              \"&to=\" +\r\n              dtTo,\r\n            {\r\n              method: \"GET\",\r\n              headers: {\r\n                accept: \"application/json\",\r\n                Authorization: \"Bearer \" + accessToken,\r\n              },\r\n            }\r\n          );\r\n          if (response.ok) {\r\n            const data = await response.json();\r\n            // console.log(\"datacheck1\"+data.data.length);\r\n           // console.log(\"datacheck1\"+data.data.length);\r\n            if (data && data.data.length > 0) {\r\n\r\n            const response2 = await fetch(\r\n              \"https://api.infinite-uptime.com/api/3.0/idap-api/service-requests?plantIds=\" + plantid,\r\n              {\r\n                method: \"GET\",\r\n                headers: {\r\n                  accept: \"application/json\",\r\n                  Authorization: \"Bearer \" + accessToken,\r\n                },\r\n              }\r\n            );\r\n             // console.log(response2.ok);\r\n            if (response2.ok) {\r\n              \r\n              const data2 = await response2.json();\r\n             // console.log(\"datacheck2\"+data2);\r\n              if (data2 && data.data.length>0&&Object.keys(data2).length > 0) {\r\n              let newData = [];\r\n              newData.push(data);\r\n              newData.push(data2);\r\n              return newData;\r\n            }\r\n          }\r\n        }\r\n      }\r\n        \r\n\r\n          // Handle cases where the API call is not successful (e.g., 401 Unauthorized)\r\n         // return null;\r\n          //console.log(\"data2\",data2);\r\n        \r\n        });\r\n\r\n        const alertsData = await Promise.all(fetchPromises);\r\n        //console.log(\"data\",JSON.stringify(alertsData));\r\n        let dummy =[];\r\n        alertsData.map((ele)=>{\r\n          if(ele!=undefined){\r\n          //aa\r\n          const alert1=ele[0].data.flat();\r\n          //mf\r\n          let key = Object.keys(ele[1].data);\r\n         // console.log(key);\r\n          const alert2 = ele[1].data[key].filter((ele) => ele.status === \"NEW\");\r\n          dummy.push(alert1);\r\n          const alert2v1=(alert2)=>{\r\n            \r\n            let newAlert=[];\r\n            alert2.map((ele)=>{\r\n              if(check24(ele)){\r\n                newAlert.push(ele);\r\n                //dummy.push(ele);\r\n              }\r\n            })\r\n           return newAlert;\r\n          }\r\n          \r\n          dummy.push(alert2v1(alert2));\r\n        }\r\n          \r\n        })\r\n        //console.log(\"hero\"+JSON.stringify(dummy));\r\n        // Combine all alerts from different plants into a single array\r\n        const combinedAlerts = dummy.flat();\r\n        //console.log(combinedAlerts);\r\n       // const newZ=combinedAlerts.push(\"=\");\r\n        setTotalAlerts(prevAlert=>prevAlert.length===combinedAlerts.length?prevAlert:combinedAlerts);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n     \r\n     \r\n    fetchData();\r\n    // const interval = setInterval(fetchData, 30000);\r\n\r\n    // return () => {\r\n    //   clearInterval(interval);\r\n    // };\r\n  }, [currentPlant, accessToken, totalPlants,totalAlerts]);\r\n  //console.log(\"data\"+JSON.stringify(totalAlerts),totalAlerts.length);\r\n  let lengthofDisplay = totalAlerts && totalAlerts.length == 0;\r\n  useEffect(() => {\r\n    if (totalAlerts && totalAlerts.length > 0) {\r\n      contentLength = totalAlerts.reduce((length, ele) => {\r\n        if (ele) {\r\n          const textValues = Object.values(ele).filter((value) => typeof value === \"string\");\r\n          const textLength = textValues.join('').length;\r\n          return length + textLength;\r\n        }\r\n        return length;\r\n      }, 0);\r\n\r\n      if (!isNaN(contentLength) && contentLength > 0) {\r\n        const durationFactor = 0.05;\r\n        const calculatedDuration = Math.max(30, contentLength * durationFactor);\r\n        setAnimationDuration(calculatedDuration);\r\n      } else {\r\n        console.error(\"invalid content length\", contentLength);\r\n      }\r\n    }\r\n  }, [totalAlerts]);\r\n\r\n\r\n  //  console.log(\"checking\",lengthofDisplay,dataDisplay.data.length)\r\n  \r\n    function parseCustomDate(dateString) {\r\n      const dateObject = new Date(dateString);\r\n      return dateObject;\r\n      }\r\n    const check24=(ele)=>{\r\n      \r\n      if(ele.status){\r\n        \r\n        const dateString = parseCustomDate(ele.createdDate);\r\n        const date = new Date(dateString);\r\n        const currentDate = new Date();\r\n        const timeDifference = currentDate - date;\r\n        const hoursDifference = timeDifference / (1000 * 60 * 60);\r\n       // console.log(dateString,date,hoursDifference);\r\n        if (hoursDifference <= 24) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }  \r\n      }\r\n      else{\r\n        return false;\r\n      }\r\n    }\r\n    const urlFault=(sid)=>{\r\n      return `https://drs.infinite-uptime.com/reports-doc/`+sid\r\n    }\r\n    //console.log(animationDuration);\r\n    const urlAA=(ele)=>{\r\n      console.log(\"clicked\");\r\n        window.open(\"https://idap.infinite-uptime.com/#/dashboard/MonitoringTable\");\r\n        // document.cookie = \"idap-machineName-PROD=1BE304 - 02-GEARBOX; domain=.infinite-uptime.com\"//but we tried to set cookies here-hard coded\r\n \r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n      \r\n      <div className=\"alerts-bar\" style={{ background: \"#ffc0c0\",color:\"red\" }}onMouseEnter={() => setAnimationPaused(true)} onMouseLeave={() => setAnimationPaused(false)}>\r\n        <div className={`marquee ${animationPaused ? 'marquee-paused' : ''}`} style={{animation:`marquee ${animationDuration}s linear infinite`}} >\r\n         \r\n        {totalAlerts && totalAlerts.length > 0 ? ( \r\n  totalAlerts.map((ele,index) => (\r\n    <span key={index}>\r\n      { ele.status ? \r\n        (<> New Fault identified for Plants {<span className=\"fw-bold\">{ele.serviceReqMachineDetails[0]?ele.serviceReqMachineDetails[0].plantName:\"\"}</span>} : Machine : <span className=\"fw-bold\"> <a href={urlFault(ele.id)} target=\"_blank\" style={{ color:\"red\"}}>{ele.serviceReqMachineDetails[0]?ele.serviceReqMachineDetails[0].machineName:\"\"}</a></span> | </> )      : \r\n        (ele.anomalyDetected?(<> New Anomaly Alert Generated for Plants {<span className=\"fw-bold\">{ele.plantName}</span>} : Machine :<span className=\"fw-bold hover\"> <span onClick={(e)=>{urlAA(ele.machineName)}} target=\"_blank\" style={{ color:\"red\"}}>{ele.machineName}</span></span> | </>):<></>)\r\n    }\r\n      \r\n    </span>\r\n  ))\r\n) : (\r\n  lengthofDisplay ? (\r\n    <>No Anomaly Alert or New Faults Notifications in Last 24 Hours </>\r\n  ) : (\r\n    <>No Anomaly Alert or New Faults Notifications in Last 24 Hours</>\r\n  )\r\n)}\r\n\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  };\r\n  \r\n\r\nexport default AlertsBar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}