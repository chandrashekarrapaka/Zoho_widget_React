{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/demo/Desktop/CRV/Zoho_widget_React/react_app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/demo/Desktop/CRV/Zoho_widget_React/react_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/demo/Desktop/CRV/Zoho_widget_React/react_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{LoginCredentialsAndQueries}from'../Services/loginCredentialsAndQueries';import'./AppListDropdown.css';import{loggedInUser}from'../Services/loggedInUser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AppListDropdown=function AppListDropdown(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDropdownOpen=_useState2[0],setDropdownOpen=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),accessToken=_useState4[0],setAccessToken=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userId=_useState6[0],setUserId=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];useEffect(function(){var fetchDataz=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,response2;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return LoginCredentialsAndQueries();case 3:response=_context.sent;_context.next=6;return loggedInUser();case 6:response2=_context.sent;if(response.length>0&&response2.length>0){// console.log(\"userid\", response2);\nsetAccessToken(response);setUserId(response2);}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchDataz(){return _ref.apply(this,arguments);};}();fetchDataz();},[userId,accessToken]);useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var plantsResponse,plantsData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"https://api.infinite-uptime.com/api/3.0/idap-api/application-user/subscribed-apps?emailId=\".concat(userId),{method:'GET',headers:{'accept':'application/json','Authorization':'Bearer '+accessToken}});case 3:plantsResponse=_context2.sent;_context2.next=6;return plantsResponse.json();case 6:plantsData=_context2.sent;// console.log(plantsData);\nif(plantsData!=undefined&&plantsData.data.length>0){setData(plantsData.data);}// Process plantsData as needed\n_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error('Error fetching data:',_context2.t0);case 13:case\"end\":return _context2.stop();}},_callee2,null,[[0,10]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[userId,accessToken]);if(data!==undefined&&data.length>0){return/*#__PURE__*/_jsxs(\"div\",{className:\"app-list-dropdown-wrap\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"javascript:void(0)\",className:\"app-list-trigger\",onClick:function onClick(){return setDropdownOpen(!isDropdownOpen);},children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAB7CAAAewgFu0HU+AAADZ0lEQVRIibWWXUwUVxiGn5ndhQEWQRFZiIBKMHXBtBUTCwE1pkmDNTExMWK1bbwxsbUa0xuTXjRN28SmaTX2hqZpbaumMU01Ir0wVuJ/qcGC8qOiCBi18rMus8vO7rI7gxfLHnd2lnhReK/2O+93zjPfOd/OGUnVDAA3cABYC2Tz/+UHLgD7gR5J1YzlwDXAOQOLJ0sFaiVVM5qBt2cBEFeTpGqGn9mpIi6/PRHgGQtx+Fg3Xl+YhvVl1LxWIDLvDao0nrgNEnzQ4KaseI7wbvU+46eTd1HSbOzeVsHCgqxESLakasZkPPr461b6H/mFe2h/NSWFTsa1CDs+uYg+leqwyxz5cg2Zip3RsRA7P70s5uTlKvzwWZ2pFDkxSAQAPB4OAOALRAQAIBI1CASjAIx6Q6Y5njFzbIFsqS8Tv0uLnLz+ynwACvMzeePVBcKrXeEif64CQHlJDpXl84RXX1dsgZi2C+BG9yjjWoS6KheyLJmSr/z7VECSdantPxwOG9UJDzMtZDYkJw9owSheXzhl8ph/An8gktLz+sJooWhKz54YXO8c4bvjXYQmdDa9uZit61+c0anzA/z2Zx92u8SuLW7qql5s2bEz9zndMkCGYmfP9gpWVuRPX8lXP3YQCEbR9Ul+P/uAvoc+AB4PBTjadI+obhAK6xz8tVM89d0BlZN/9aMbk4xrEb75udNSiQkymXQ68bY1kg2AqSEj6Uh13Zprgux7bzkOe2xow9oSli7KAaDY5WTzW0tiE2SJXQ1uMjNiO71sSa5o2zSHzN53Ky0QS3d5fWEmIgYFeRmW5GFPEJtNIi9XsXhPR4Mo6TZys9NeDpkNWVq4445H/OmS9ffNIVpvDaf0rrYP0dY1ktIzVfLHuX6ON98HoLw0h88/qiLNYQPg2186BXzdqiJ2v1MBxA7+i+/b6bjjAWDjulLe37h0+kriAIi92tunJj4Z1kzVtfzzRLwIewdVAQA43TJoqcQEWegy3QO48jIBcGY5TOM2WSJDiXXXvJx0kzd3jjmG2HaJm3HIE+TQ0S5Uf5iG+jJWrywUiT19XhpP3EaSJD7c6hbtDdDWPcKRU70o6Tb2bKuktMh00folVTPOABss+JlTk6RqhhtoZWY+hZLlA6ploAeoBpoBbYYW16bWqwF6ngNhu1ZKA5d7lQAAAABJRU5ErkJggg==\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-list-dropdown \".concat(isDropdownOpen?'open':''),children:[/*#__PURE__*/_jsx(\"ul\",{className:\"app-list-items\",children:data.map(function(element){return/*#__PURE__*/_jsx(\"li\",{className:\"app-list-item\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"app-list-link\",href:element.rootUrl,children:[/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:element.logo}),/*#__PURE__*/_jsx(\"span\",{children:element.name})]})},element.id);})}),/*#__PURE__*/_jsx(\"a\",{className:\"app-list-btn\",href:\"#\",children:\"PlantOS App Suite\"})]})]});}return null;// If no displayApps are provided, render nothing\n};export default AppListDropdown;","map":{"version":3,"names":["React","useEffect","useState","LoginCredentialsAndQueries","loggedInUser","jsx","_jsx","jsxs","_jsxs","AppListDropdown","_useState","_useState2","_slicedToArray","isDropdownOpen","setDropdownOpen","_useState3","_useState4","accessToken","setAccessToken","_useState5","_useState6","userId","setUserId","_useState7","_useState8","data","setData","fetchDataz","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","response2","wrap","_callee$","_context","prev","next","sent","length","t0","console","error","stop","apply","arguments","fetchData","_ref2","_callee2","plantsResponse","plantsData","_callee2$","_context2","fetch","concat","method","headers","json","undefined","className","children","href","onClick","alt","src","map","element","rootUrl","logo","name","id"],"sources":["C:/Users/demo/Desktop/CRV/Zoho_widget_React/react_app/src/Components/AppListDropdown.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { LoginCredentialsAndQueries } from '../Services/loginCredentialsAndQueries';\r\nimport './AppListDropdown.css';\r\nimport { loggedInUser } from '../Services/loggedInUser';\r\n\r\nconst AppListDropdown = () => {\r\n  const [isDropdownOpen, setDropdownOpen] = useState(false);\r\n  const [accessToken, setAccessToken] = useState('');\r\n  const [userId,setUserId]=useState('');\r\n  const [data,setData]=useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchDataz = async () => {\r\n      try {\r\n        const response = await LoginCredentialsAndQueries();\r\n        const response2=await loggedInUser();\r\n        if (response.length > 0 && response2.length > 0) {\r\n         // console.log(\"userid\", response2);\r\n          setAccessToken(response);\r\n          setUserId(response2);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchDataz();\r\n  }, [userId,accessToken]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n\r\n        const plantsResponse = await fetch(\r\n          `https://api.infinite-uptime.com/api/3.0/idap-api/application-user/subscribed-apps?emailId=${userId}`,\r\n          {\r\n            method: 'GET',\r\n            headers: {\r\n              'accept': 'application/json',\r\n              'Authorization': 'Bearer ' + accessToken,\r\n            },\r\n          }\r\n        );\r\n\r\n\r\n        const plantsData = await plantsResponse.json();\r\n       // console.log(plantsData);\r\n        if(plantsData!=undefined&&plantsData.data.length>0){\r\n         setData(plantsData.data);\r\n        }\r\n        // Process plantsData as needed\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [userId, accessToken]);\r\n\r\n  if (data !== undefined && data.length > 0) {\r\n    return (\r\n      <div className=\"app-list-dropdown-wrap\">\r\n        <a href=\"javascript:void(0)\" className=\"app-list-trigger\" onClick={() => setDropdownOpen(!isDropdownOpen)}>\r\n          <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAB7CAAAewgFu0HU+AAADZ0lEQVRIibWWXUwUVxiGn5ndhQEWQRFZiIBKMHXBtBUTCwE1pkmDNTExMWK1bbwxsbUa0xuTXjRN28SmaTX2hqZpbaumMU01Ir0wVuJ/qcGC8qOiCBi18rMus8vO7rI7gxfLHnd2lnhReK/2O+93zjPfOd/OGUnVDAA3cABYC2Tz/+UHLgD7gR5J1YzlwDXAOQOLJ0sFaiVVM5qBt2cBEFeTpGqGn9mpIi6/PRHgGQtx+Fg3Xl+YhvVl1LxWIDLvDao0nrgNEnzQ4KaseI7wbvU+46eTd1HSbOzeVsHCgqxESLakasZkPPr461b6H/mFe2h/NSWFTsa1CDs+uYg+leqwyxz5cg2Zip3RsRA7P70s5uTlKvzwWZ2pFDkxSAQAPB4OAOALRAQAIBI1CASjAIx6Q6Y5njFzbIFsqS8Tv0uLnLz+ynwACvMzeePVBcKrXeEif64CQHlJDpXl84RXX1dsgZi2C+BG9yjjWoS6KheyLJmSr/z7VECSdantPxwOG9UJDzMtZDYkJw9owSheXzhl8ph/An8gktLz+sJooWhKz54YXO8c4bvjXYQmdDa9uZit61+c0anzA/z2Zx92u8SuLW7qql5s2bEz9zndMkCGYmfP9gpWVuRPX8lXP3YQCEbR9Ul+P/uAvoc+AB4PBTjadI+obhAK6xz8tVM89d0BlZN/9aMbk4xrEb75udNSiQkymXQ68bY1kg2AqSEj6Uh13Zprgux7bzkOe2xow9oSli7KAaDY5WTzW0tiE2SJXQ1uMjNiO71sSa5o2zSHzN53Ky0QS3d5fWEmIgYFeRmW5GFPEJtNIi9XsXhPR4Mo6TZys9NeDpkNWVq4445H/OmS9ffNIVpvDaf0rrYP0dY1ktIzVfLHuX6ON98HoLw0h88/qiLNYQPg2186BXzdqiJ2v1MBxA7+i+/b6bjjAWDjulLe37h0+kriAIi92tunJj4Z1kzVtfzzRLwIewdVAQA43TJoqcQEWegy3QO48jIBcGY5TOM2WSJDiXXXvJx0kzd3jjmG2HaJm3HIE+TQ0S5Uf5iG+jJWrywUiT19XhpP3EaSJD7c6hbtDdDWPcKRU70o6Tb2bKuktMh00folVTPOABss+JlTk6RqhhtoZWY+hZLlA6ploAeoBpoBbYYW16bWqwF6ngNhu1ZKA5d7lQAAAABJRU5ErkJggg==\" />\r\n        </a>\r\n        <div className={`app-list-dropdown ${isDropdownOpen ? 'open' : ''}`}>\r\n          <ul className=\"app-list-items\">\r\n            {data.map(element => (\r\n              <li className=\"app-list-item\" key={element.id}>\r\n                <a className=\"app-list-link\" href={element.rootUrl}>\r\n                  <img alt=\"\" src={element.logo} />\r\n                  <span>{element.name}</span>\r\n                </a>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <a className=\"app-list-btn\" href=\"#\">\r\n            PlantOS App Suite\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null; // If no displayApps are provided, render nothing\r\n};\r\n\r\nexport default AppListDropdown;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}