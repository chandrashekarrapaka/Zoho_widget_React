{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DELL/Desktop/zoho-creator-widget-starter-template-reactJS/react_app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DELL/Desktop/zoho-creator-widget-starter-template-reactJS/react_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export function LoginCredentialsAndQueries(){return _LoginCredentialsAndQueries.apply(this,arguments);}function _LoginCredentialsAndQueries(){_LoginCredentialsAndQueries=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var accessToken,loginResponse,queryParams,loginData,lqp;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:accessToken=\"\";_context.prev=1;_context.next=4;return window.ZOHO.CREATOR.init().then(function(data){var accessTokenz=\"\";var userid=window.ZOHO.CREATOR.UTIL.getQueryParams().user;console.log(\"userid\"+userid);var config={appName:\"infinite-control-room\",reportName:\"My_Profile_Data\",criteria:\"Username ==\\\"\"+userid+\"\\\"\",page:\"1\",pageSize:\"100\"};var access=window.ZOHO.CREATOR.API.getAllRecords(config).then(function(response){var userData=response;accessTokenz=userData.data[0].Access_Token;console.log(\"userData\"+JSON.stringify(userData.data[0].Access_Token));// console.log(\"check\"+accessToken);\n// return accessToken;\nreturn accessTokenz;});return access;});case 4:loginResponse=_context.sent;_context.next=7;return window.ZOHO.CREATOR.init().then(function(data){return window.ZOHO.CREATOR.UTIL.getQueryParams();});case 7:queryParams=_context.sent;_context.next=10;return loginResponse;case 10:loginData=_context.sent;accessToken=loginData;console.log(\"queryParamsLOGIN\"+JSON.stringify(queryParams));console.log(\"dataused\"+JSON.stringify(accessToken),queryParams);lqp={accessToken:accessToken,queryParams:queryParams};// let orgid=queryParams.PlantId.split(\",\")[1];\n// const orgidAll=queryParams.PlantId.split(\",\");\n//console.log(\"dataused\"+accessToken,queryParams)\nreturn _context.abrupt(\"return\",accessToken);case 18:_context.prev=18;_context.t0=_context[\"catch\"](1);console.error(_context.t0);throw _context.t0;case 22:case\"end\":return _context.stop();}},_callee,null,[[1,18]]);}));return _LoginCredentialsAndQueries.apply(this,arguments);}","map":{"version":3,"names":["LoginCredentialsAndQueries","_LoginCredentialsAndQueries","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","accessToken","loginResponse","queryParams","loginData","lqp","wrap","_callee$","_context","prev","next","window","ZOHO","CREATOR","init","then","data","accessTokenz","userid","UTIL","getQueryParams","user","console","log","config","appName","reportName","criteria","page","pageSize","access","API","getAllRecords","response","userData","Access_Token","JSON","stringify","sent","abrupt","t0","error","stop"],"sources":["C:/Users/DELL/Desktop/zoho-creator-widget-starter-template-reactJS/react_app/src/Services/loginCredentialsAndQueries.js"],"sourcesContent":["\r\nexport async function LoginCredentialsAndQueries() {\r\n    let accessToken=\"\";\r\n    \r\n      try {\r\n         \r\n        const loginResponse =  await window.ZOHO.CREATOR.init().then(function(data) {\r\n          let accessTokenz=\"\";\r\n          let userid=window.ZOHO.CREATOR.UTIL.getQueryParams().user;\r\n          console.log(\"userid\"+userid)\r\n        \r\n         var config = {\r\n          appName: \"infinite-control-room\",\r\n          reportName: \"My_Profile_Data\",\r\n          criteria: \"Username ==\\\"\"+userid+\"\\\"\",\r\n          page: \"1\",\r\n          pageSize: \"100\"\r\n        }\r\n        const access=window.ZOHO.CREATOR.API.getAllRecords(config).then(function (response) {\r\n          let userData = response;\r\n          \r\n          accessTokenz=userData.data[0].Access_Token;\r\n          console.log(\"userData\"+JSON.stringify(userData.data[0].Access_Token));\r\n         // console.log(\"check\"+accessToken);\r\n         // return accessToken;\r\n        return accessTokenz;\r\n        });\r\n        return access;\r\n      });\r\n      const queryParams =  await window.ZOHO.CREATOR.init().then(function(data) { \r\n        return window.ZOHO.CREATOR.UTIL.getQueryParams();\r\n      });\r\n    \r\n        const loginData = await loginResponse;\r\n\r\n       accessToken = loginData;\r\n         console.log(\"queryParamsLOGIN\"+JSON.stringify(queryParams));\r\n         console.log(\"dataused\"+JSON.stringify(accessToken),queryParams)\r\n        \r\n        const lqp={accessToken,queryParams};\r\n        // let orgid=queryParams.PlantId.split(\",\")[1];\r\n        // const orgidAll=queryParams.PlantId.split(\",\");\r\n      //console.log(\"dataused\"+accessToken,queryParams)\r\n        return accessToken;\r\n      } catch (error) {\r\n        console.error(error);\r\n        throw error;\r\n      }\r\n    }\r\n    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}