{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\demo\\\\Desktop\\\\CRV\\\\Zoho_widget_React\\\\react_app\\\\src\\\\Components\\\\Containers\\\\Container.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./Container.css\";\nimport AA from \"./AA/AA\";\nimport MFI from \"./MFI/MFI\";\nimport Pagination from \"../Pagination/Pagination\";\nimport Plant from \"./Plant/Plant\";\nimport { Plants } from \"../../Services/Json\";\nimport Header from \"../Header/Header\";\nimport TotalPlants from \"../TotalPlants\";\nimport AlertsBar from \"./Scrollbar/AlertsBar\";\nimport PatternStorage from \"./PatternStorage\";\nimport AppListDropdown from \"../AppListDropdown\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Container() {\n  _s();\n  var _currentPlant$;\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 15;\n  const [timeIn, setTimeIn] = useState(30000);\n  const [plantsData, setPlantsData] = useState([]);\n  const [plantDrsStatus, setPlantDrsStatus] = useState([]);\n  const [currentPlantIndex, setCurrentPlantIndex] = useState(0);\n  const [zoomLevel, setZoomLevel] = useState(0);\n  const [kpimachines, setKpimachines] = useState(0);\n  const [kpidisconnected, setKpiDisconnected] = useState(0);\n  const [kpimonitors, setKpimonitors] = useState(0);\n  const [noData, setNoData] = useState('');\n  const [apicall, setApiCall] = useState(true);\n  const [autoPagination, setAutoPagination] = useState(true);\n  const [PlantSelection, setPlantSelection] = useState(false);\n  const [displayApps, setDisplayApps] = useState([]);\n\n  //screen things\n  ////console.log(\"insidecontainer.js\");\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await Plants();\n        setPlantDrsStatus(response[2]);\n        setDisplayApps(response[3]);\n        if (response[1]) {\n          let plants = [];\n          if (response[0]) {\n            response[0].forEach(element => {\n              if (element.length > 0) plants.push(element);\n            });\n            const storedPattern = await fetchProfile();\n            if (storedPattern && storedPattern !== undefined) {\n              const uniqueOrderedIds = [...new Set(JSON.parse(storedPattern))];\n              const uniquePlantIds = plants.map(plant => plant[0].plantid);\n              const patternsMatch = JSON.stringify(uniqueOrderedIds.sort()) === JSON.stringify(uniquePlantIds.sort());\n              if (storedPattern && storedPattern.length > 1 && patternsMatch) {\n                const orderedPattern = JSON.parse(storedPattern);\n                const reorderedPlantsData = orderedPattern.map(plantId => {\n                  const plant = plants.find(plant => plant[0].plantid === plantId);\n                  return plant ? plant : null;\n                }).filter(plant => plant !== null);\n                setPlantsData(reorderedPlantsData);\n              } else {\n                setPlantsData(plants);\n              }\n            } else {\n              setPlantsData(plants);\n            }\n            if (plants.length === 0) {\n              setNoData('No data found');\n            }\n          } else {\n            setNoData('No data found');\n          }\n        } else {\n          setApiCall(false);\n        }\n      } catch (error) {\n        console.error(error);\n        setNoData('Error occurred while fetching data.');\n      }\n    };\n    fetchData();\n  }, [timeIn]);\n  const fetchProfile = async () => {\n    try {\n      const data = await window.ZOHO.CREATOR.init();\n      let userid = window.ZOHO.CREATOR.UTIL.getQueryParams().user;\n      var config = {\n        appName: \"infinite-control-room\",\n        reportName: \"My_Profile_Data\",\n        criteria: \"Username == \\\"\" + userid + \"\\\"\",\n        page: \"1\",\n        pageSize: \"100\"\n      };\n      const response = await window.ZOHO.CREATOR.API.getAllRecords(config);\n      const idx = response.data[0].PlantPattern;\n      console.log(idx);\n      return idx;\n    } catch (error) {\n      console.error(error);\n      // Handle error cases\n      return null; // Or any appropriate value indicating error\n    }\n  };\n\n  useEffect(() => {\n    let timeout;\n    if (autoPagination && plantsData.length > 0 && PlantSelection == false) {\n      const currentPlant = plantsData[currentPlantIndex];\n      // console.log(currentPlantIndex);\n      setKpimachines(plantsData[currentPlantIndex].length);\n      // \n      let kpimonitorsnew = 0;\n      let kpidisconnectednew = 0;\n      plantsData[currentPlantIndex].forEach(mon => {\n        mon.monitors.forEach(ele => {\n          if (ele.status == 5 || ele.status == undefined) {\n            //console.log(ele.status,currentPlantIndex);\n            kpidisconnectednew++;\n          }\n        });\n        kpimonitorsnew += mon.monitors.length;\n      });\n      // console.log(currentPlantIndex);\n      setKpiDisconnected(kpidisconnectednew);\n      setKpimonitors(kpimonitorsnew);\n      const totalPages = Math.ceil((currentPlant === null || currentPlant === void 0 ? void 0 : currentPlant.length) / itemsPerPage);\n      if (currentPage > totalPages) {\n        if (currentPlantIndex === plantsData.length - 1) {\n          timeout = setTimeout(() => {\n            setCurrentPage(1);\n            setCurrentPlantIndex(0);\n          }, 0);\n        } else {\n          timeout = setTimeout(() => {\n            setCurrentPage(1);\n            setCurrentPlantIndex(prevIndex => prevIndex + 1);\n          }, 0);\n        }\n      } else {\n        timeout = setTimeout(() => {\n          setCurrentPage(prevPage => prevPage + 1);\n        }, timeIn);\n      }\n    }\n    return () => clearTimeout(timeout);\n  }, [currentPage, currentPlantIndex, plantsData, autoPagination]);\n  const handleNextPlant = () => {\n    const nextPage = currentPage + 1;\n\n    // If we're at the end of the current plant, switch to the next plant\n    const nextPlantIndex = (currentPlantIndex + 1) % plantsData.length;\n    if (nextPlantIndex > plantsData.length - 1) {\n      setCurrentPlantIndex(nextPlantIndex);\n      setCurrentPage(1);\n    } else {\n      setCurrentPlantIndex(nextPlantIndex);\n      setCurrentPage(1);\n    } // Reset currentPage for the new plant\n    const currentPlant = plantsData[currentPlantIndex];\n    setKpimachines(plantsData[currentPlantIndex].length);\n    let kpimonitorsnew = 0;\n    let kpidisconnectednew = 0;\n    plantsData[currentPlantIndex].forEach(mon => {\n      mon.monitors.forEach(ele => {\n        if (ele.status == 5) {\n          // console.log(ele.status,currentPlantIndex);\n          kpidisconnectednew++;\n        }\n      });\n      kpimonitorsnew += mon.monitors.length;\n    });\n    //console.log(currentPlantIndex);\n    setKpiDisconnected(kpidisconnectednew);\n    setKpimonitors(kpimonitorsnew);\n  };\n  //console.log(currentPlantIndex+\"\"+kpidisconnected);\n  const handlePageChange = pageNumber => {\n    const totalPages = Math.ceil(plantsData[currentPlantIndex].length / itemsPerPage);\n    if (pageNumber <= totalPages) {\n      setCurrentPage(pageNumber);\n      if (pageNumber === totalPages && currentPlantIndex !== plantsData.length - 1) {\n        setTimeout(() => {\n          const nextPlantIndex = currentPlantIndex + 1;\n          setCurrentPage(1);\n          setCurrentPlantIndex(nextPlantIndex);\n        }, timeIn);\n      }\n    }\n  };\n  const handleCheck = () => {\n    setAutoPagination(prevState => !prevState);\n  };\n\n  // async function getServiceRequests\n  // let plantWithMachines = () => prop.currentItems.map(function (ele) {\n\n  // });\n  // console.log(plantWithMachines);\n\n  const currentPlant = plantsData[currentPlantIndex];\n  const totalPages = Math.ceil((currentPlant === null || currentPlant === void 0 ? void 0 : currentPlant.length) / itemsPerPage);\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  const currentItems = currentPlant ? currentPlant.slice(indexOfFirstItem, indexOfLastItem) : [];\n\n  //  style={{ transform: `scale(${1 + zoomLevel / 100})` }}\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: currentPlant && apicall ? /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"dashboard-sec\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header\",\n          children: [/*#__PURE__*/_jsxDEV(TotalPlants, {\n            plantsData: plantsData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(PatternStorage, {\n            plantsData: plantsData,\n            cp: currentPlant\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-9\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"left-main\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title-section d-flex mb-2 align-items-center justify-content-between py-2 px-3 bg-white br-10\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mb-0 fs-18 fw-600\",\n                    children: [\" \", ((_currentPlant$ = currentPlant[0]) === null || _currentPlant$ === void 0 ? void 0 : _currentPlant$.plantName) || \"\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mb-0 fs-16 text-gray\",\n                    onClick: e => {\n                      handleNextPlant(currentPlantIndex);\n                    },\n                    children: [\" Coming Next: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      className: \"text-primary\",\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      children: plantsData[currentPlantIndex + 1] !== undefined ? plantsData[currentPlantIndex + 1][0].plantName : plantsData[0][0].plantName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 129\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Header, {\n                  kpidisconnected: kpidisconnected,\n                  kpimachines: kpimachines,\n                  kpimonitors: kpimonitors,\n                  currentPlant: currentPlant\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Plant, {\n                  currentItems: currentItems,\n                  NextPlant: plantsData[currentPlantIndex + 1] !== undefined ? plantsData[currentPlantIndex + 1][0].plantName : plantsData[0][0].plantName,\n                  plantDrsStatus: plantDrsStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pagination-sec\",\n                  style: {\n                    paddingBottom: \"10px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"pagination-section\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"pagination-inner-sec\",\n                        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                          className: \"pagination-block\",\n                          children: /*#__PURE__*/_jsxDEV(Pagination, {\n                            items: currentItems,\n                            currentPage: currentPage,\n                            totalPages: totalPages,\n                            onPageChange: handlePageChange\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 261,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 260,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"stop-auto-pagination\",\n                          children: /*#__PURE__*/_jsxDEV(\"form\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                              onClick: handleCheck,\n                              type: \"checkbox\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 270,\n                              columnNumber: 33\n                            }, this), \"Stop Auto Pagination\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 269,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 268,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 259,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"health-score-sec\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"justify-content-center row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-lg-3 mb-3 col-md-6 col-sm-6\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"health-score-box py-2 md:px-3 px-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"score-box green\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 284,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-dark fs-14 mb-0 fw-bold\",\n                          children: \"No Open DRS Report\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 285,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 283,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-lg-3 mb-3 col-md-6 col-sm-6\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"health-score-box py-2 px-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"score-box red\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 291,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-dark fs-14 mb-0 fw-bold\",\n                          children: \"Open DRS Report\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 292,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"right-main\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-lg-12 col-md-4 col-sm-6 mb-3\",\n                    children: /*#__PURE__*/_jsxDEV(AA, {\n                      currentPlant: currentPlant\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-lg-12 col-md-4 col-sm-6 mb-3\",\n                    children: /*#__PURE__*/_jsxDEV(MFI, {\n                      currentPlant: currentPlant\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AlertsBar, {\n          currentPlant: currentPlant,\n          plantsData: plantsData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }, this) : apicall === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: `loading....${noData}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 47\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 10\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-again\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: `Invalid Token, Please Login here`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://crv.infinite-uptime.com/#Profile\",\n        target: \"_blank\",\n        children: \"Please click here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 12\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n}\n_s(Container, \"A9iNVp/Y8s34x2ju5xUBUIep91k=\");\n_c = Container;\nexport default Container;\nvar _c;\n$RefreshReg$(_c, \"Container\");","map":{"version":3,"names":["React","useState","useEffect","AA","MFI","Pagination","Plant","Plants","Header","TotalPlants","AlertsBar","PatternStorage","AppListDropdown","jsxDEV","_jsxDEV","Container","_s","_currentPlant$","currentPage","setCurrentPage","itemsPerPage","timeIn","setTimeIn","plantsData","setPlantsData","plantDrsStatus","setPlantDrsStatus","currentPlantIndex","setCurrentPlantIndex","zoomLevel","setZoomLevel","kpimachines","setKpimachines","kpidisconnected","setKpiDisconnected","kpimonitors","setKpimonitors","noData","setNoData","apicall","setApiCall","autoPagination","setAutoPagination","PlantSelection","setPlantSelection","displayApps","setDisplayApps","fetchData","response","plants","forEach","element","length","push","storedPattern","fetchProfile","undefined","uniqueOrderedIds","Set","JSON","parse","uniquePlantIds","map","plant","plantid","patternsMatch","stringify","sort","orderedPattern","reorderedPlantsData","plantId","find","filter","error","console","data","window","ZOHO","CREATOR","init","userid","UTIL","getQueryParams","user","config","appName","reportName","criteria","page","pageSize","API","getAllRecords","idx","PlantPattern","log","timeout","currentPlant","kpimonitorsnew","kpidisconnectednew","mon","monitors","ele","status","totalPages","Math","ceil","setTimeout","prevIndex","prevPage","clearTimeout","handleNextPlant","nextPage","nextPlantIndex","handlePageChange","pageNumber","handleCheck","prevState","indexOfLastItem","indexOfFirstItem","currentItems","slice","children","className","fileName","_jsxFileName","lineNumber","columnNumber","cp","plantName","onClick","e","style","cursor","NextPlant","paddingBottom","class","items","onPageChange","type","textAlign","href","target","_c","$RefreshReg$"],"sources":["C:/Users/demo/Desktop/CRV/Zoho_widget_React/react_app/src/Components/Containers/Container.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Container.css\";\nimport AA from \"./AA/AA\";\nimport MFI from \"./MFI/MFI\";\nimport Pagination from \"../Pagination/Pagination\";\nimport Plant from \"./Plant/Plant\";\nimport { Plants } from \"../../Services/Json\";\nimport Header from \"../Header/Header\";\nimport TotalPlants from \"../TotalPlants\";\nimport AlertsBar from \"./Scrollbar/AlertsBar\";\nimport PatternStorage from \"./PatternStorage\";\nimport AppListDropdown from \"../AppListDropdown\";\n\nfunction Container() {\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 15;\n  const [timeIn, setTimeIn] = useState(30000);\n  const [plantsData, setPlantsData] = useState([]);\n  const [plantDrsStatus, setPlantDrsStatus] = useState([]);\n  const [currentPlantIndex, setCurrentPlantIndex] = useState(0);\n  const [zoomLevel, setZoomLevel] = useState(0);\n  const [kpimachines, setKpimachines] = useState(0);\n  const [kpidisconnected, setKpiDisconnected] = useState(0);\n  const [kpimonitors, setKpimonitors] = useState(0);\n  const [noData, setNoData] = useState('');\n  const [apicall, setApiCall] = useState(true);\n  const [autoPagination, setAutoPagination] = useState(true);\n  const [PlantSelection, setPlantSelection] = useState(false);\n  const [displayApps, setDisplayApps] = useState([]);\n\n  //screen things\n  ////console.log(\"insidecontainer.js\");\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await Plants();\n        setPlantDrsStatus(response[2]);\n        setDisplayApps(response[3]);\n        if (response[1]) {\n          let plants = [];\n\n          if (response[0]) {\n            response[0].forEach(element => {\n              if (element.length > 0) plants.push(element);\n            });\n\n            const storedPattern = await fetchProfile();\n\n            if (storedPattern && storedPattern !== undefined) {\n              const uniqueOrderedIds = [...new Set(JSON.parse(storedPattern))];\n              const uniquePlantIds = plants.map(plant => plant[0].plantid);\n              const patternsMatch = JSON.stringify(uniqueOrderedIds.sort()) === JSON.stringify(uniquePlantIds.sort());\n\n              if (storedPattern && storedPattern.length > 1 && patternsMatch) {\n                const orderedPattern = JSON.parse(storedPattern);\n                const reorderedPlantsData = orderedPattern.map((plantId) => {\n                  const plant = plants.find((plant) => plant[0].plantid === plantId);\n                  return plant ? plant : null;\n                }).filter((plant) => plant !== null);\n\n                setPlantsData(reorderedPlantsData);\n              } else {\n                setPlantsData(plants);\n              }\n            } else {\n              setPlantsData(plants);\n            }\n\n            if (plants.length === 0) {\n              setNoData('No data found');\n            }\n          } else {\n            setNoData('No data found');\n          }\n        } else {\n          setApiCall(false);\n        }\n      } catch (error) {\n        console.error(error);\n        setNoData('Error occurred while fetching data.');\n      }\n    };\n\n    fetchData();\n  }, [timeIn]);\n\n  const fetchProfile = async () => {\n    try {\n      const data = await window.ZOHO.CREATOR.init();\n      let userid = window.ZOHO.CREATOR.UTIL.getQueryParams().user;\n      var config = {\n        appName: \"infinite-control-room\",\n        reportName: \"My_Profile_Data\",\n        criteria: \"Username == \\\"\" + userid + \"\\\"\",\n        page: \"1\",\n        pageSize: \"100\"\n      };\n      const response = await window.ZOHO.CREATOR.API.getAllRecords(config);\n      const idx = response.data[0].PlantPattern;\n      console.log(idx);\n      return idx;\n    } catch (error) {\n      console.error(error);\n      // Handle error cases\n      return null; // Or any appropriate value indicating error\n    }\n  };\n  useEffect(() => {\n    let timeout;\n\n    if (autoPagination && plantsData.length > 0 && PlantSelection == false) {\n      const currentPlant = plantsData[currentPlantIndex];\n      // console.log(currentPlantIndex);\n      setKpimachines(plantsData[currentPlantIndex].length);\n      // \n      let kpimonitorsnew = 0;\n      let kpidisconnectednew = 0;\n      plantsData[currentPlantIndex].forEach((mon) => {\n        mon.monitors.forEach((ele) => {\n          if (ele.status == 5 || ele.status == undefined) {\n            //console.log(ele.status,currentPlantIndex);\n            kpidisconnectednew++;\n\n          }\n        })\n        kpimonitorsnew += mon.monitors.length;\n      });\n      // console.log(currentPlantIndex);\n      setKpiDisconnected(kpidisconnectednew);\n      setKpimonitors(kpimonitorsnew);\n\n      const totalPages = Math.ceil(currentPlant?.length / itemsPerPage);\n\n      if (currentPage > totalPages) {\n        if (currentPlantIndex === plantsData.length - 1) {\n          timeout = setTimeout(() => {\n            setCurrentPage(1);\n            setCurrentPlantIndex(0);\n          }, 0);\n        } else {\n          timeout = setTimeout(() => {\n            setCurrentPage(1);\n            setCurrentPlantIndex((prevIndex) => prevIndex + 1);\n          }, 0);\n        }\n      } else {\n        timeout = setTimeout(() => {\n          setCurrentPage((prevPage) => prevPage + 1);\n        }, timeIn);\n      }\n    }\n\n\n    return () => clearTimeout(timeout);\n  }, [currentPage, currentPlantIndex, plantsData, autoPagination]);\n\n  const handleNextPlant = () => {\n    const nextPage = currentPage + 1;\n\n\n\n    // If we're at the end of the current plant, switch to the next plant\n    const nextPlantIndex = (currentPlantIndex + 1) % plantsData.length;\n    if (nextPlantIndex > plantsData.length - 1) {\n      setCurrentPlantIndex(nextPlantIndex);\n      setCurrentPage(1);\n    } else {\n      setCurrentPlantIndex(nextPlantIndex);\n      setCurrentPage(1);\n    } // Reset currentPage for the new plant\n    const currentPlant = plantsData[currentPlantIndex];\n    setKpimachines(plantsData[currentPlantIndex].length);\n\n    let kpimonitorsnew = 0;\n    let kpidisconnectednew = 0;\n\n    plantsData[currentPlantIndex].forEach((mon) => {\n\n      mon.monitors.forEach((ele) => {\n        if (ele.status == 5) {\n          // console.log(ele.status,currentPlantIndex);\n          kpidisconnectednew++;\n\n        }\n      })\n      kpimonitorsnew += mon.monitors.length;\n    });\n    //console.log(currentPlantIndex);\n    setKpiDisconnected(kpidisconnectednew);\n    setKpimonitors(kpimonitorsnew);\n\n  };\n  //console.log(currentPlantIndex+\"\"+kpidisconnected);\n  const handlePageChange = (pageNumber) => {\n    const totalPages = Math.ceil(plantsData[currentPlantIndex].length / itemsPerPage);\n\n    if (pageNumber <= totalPages) {\n      setCurrentPage(pageNumber);\n\n      if (pageNumber === totalPages && currentPlantIndex !== plantsData.length - 1) {\n        setTimeout(() => {\n          const nextPlantIndex = currentPlantIndex + 1;\n          setCurrentPage(1);\n          setCurrentPlantIndex(nextPlantIndex);\n        }, timeIn);\n      }\n    }\n  };\n\n  const handleCheck = () => {\n    setAutoPagination((prevState) => !prevState);\n  }\n\n  // async function getServiceRequests\n  // let plantWithMachines = () => prop.currentItems.map(function (ele) {\n\n  // });\n  // console.log(plantWithMachines);\n\n\n\n  const currentPlant = plantsData[currentPlantIndex];\n  const totalPages = Math.ceil(currentPlant?.length / itemsPerPage);\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  const currentItems = currentPlant ? currentPlant.slice(indexOfFirstItem, indexOfLastItem) : [];\n\n  //  style={{ transform: `scale(${1 + zoomLevel / 100})` }}\n  return (\n    <div>\n\n      {(currentPlant && apicall) ? (\n\n        <section className=\"dashboard-sec\">\n          <div className=\"container-fluid\">\n            <div className=\"header\">\n              <TotalPlants plantsData={plantsData} />\n              {/* <AppListDropdown  /> */}\n              <PatternStorage plantsData={plantsData} cp={currentPlant} />\n            </div>\n\n            <div className=\"main-content\">\n              <div className=\"row\">\n                <div className=\"col-lg-9\">\n                  <div className=\"left-main\">\n                    <div className=\"title-section d-flex mb-2 align-items-center justify-content-between py-2 px-3 bg-white br-10\">\n                      <p className=\"mb-0 fs-18 fw-600\"> {currentPlant[0]?.plantName || \"\"}</p>\n                      <p className=\"mb-0 fs-16 text-gray\" onClick={(e) => { handleNextPlant(currentPlantIndex) }}> Coming Next: <strong className=\"text-primary\" style={{ cursor: \"pointer\" }} >{plantsData[currentPlantIndex + 1] !== undefined ? plantsData[currentPlantIndex + 1][0].plantName : plantsData[0][0].plantName}</strong></p>\n                    </div>\n\n                    <Header kpidisconnected={kpidisconnected} kpimachines={kpimachines} kpimonitors={kpimonitors} currentPlant={currentPlant} />\n\n                    <Plant currentItems={currentItems} NextPlant={plantsData[currentPlantIndex + 1] !== undefined ? plantsData[currentPlantIndex + 1][0].plantName : plantsData[0][0].plantName} plantDrsStatus={plantDrsStatus} />\n\n                    <div className=\"pagination-sec\" style={{ paddingBottom: \"10px\" }}>\n                      <div className=\"row\">\n                        <div class=\"pagination-section\">\n                          <div class=\"pagination-inner-sec\">\n                            <ul className=\"pagination-block\">\n                              <Pagination\n                                items={currentItems}\n                                currentPage={currentPage}\n                                totalPages={totalPages}\n                                onPageChange={handlePageChange}\n                              />\n                            </ul>\n                            <div className=\"stop-auto-pagination\" >\n                              <form>\n                                <input onClick={handleCheck} type=\"checkbox\" />\n                                Stop Auto Pagination\n                              </form>\n\n                            </div>\n\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"health-score-sec\">\n                      <div className=\"justify-content-center row\">\n                        <div className=\"col-lg-3 mb-3 col-md-6 col-sm-6\">\n                          <div className=\"health-score-box py-2 md:px-3 px-1\">\n                            <div className=\"score-box green\"></div>\n                            <p className=\"text-dark fs-14 mb-0 fw-bold\">No Open DRS Report</p>\n                          </div>\n                        </div>\n\n                        <div className=\"col-lg-3 mb-3 col-md-6 col-sm-6\">\n                          <div className=\"health-score-box py-2 px-3\">\n                            <div className=\"score-box red\"></div>\n                            <p className=\"text-dark fs-14 mb-0 fw-bold\">Open DRS Report\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                  </div>\n                </div>\n                <div className=\"col-lg-3\">\n                  <div className=\"right-main\">\n                    <div className=\"row\">\n                      <div className=\"col-lg-12 col-md-4 col-sm-6 mb-3\" >\n                        <AA currentPlant={currentPlant} />\n                      </div>\n                      <div className=\"col-lg-12 col-md-4 col-sm-6 mb-3\">\n                        <MFI currentPlant={currentPlant} />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n\n            <AlertsBar currentPlant={currentPlant} plantsData={plantsData} />\n          </div>\n        </section>\n      ) : ((apicall === true) ?\n\n        (<div style={{ textAlign: \"center\" }}><h1>{`loading....${noData}`}</h1></div>)\n        : (<div className=\"login-again\">\n          <p>{`Invalid Token, Please Login here`}</p>\n          <a href=\"https://crv.infinite-uptime.com/#Profile\" target=\"_blank\">Please click here</a>\n        </div>)\n\n      )}\n    </div>\n  );\n}\n\nexport default Container;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}